<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Japho Blog</title>
    <description>The shortest answer is doing.</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Fri, 02 Nov 2018 14:40:11 +0800</pubDate>
    <lastBuildDate>Fri, 02 Nov 2018 14:40:11 +0800</lastBuildDate>
    <generator>Jekyll v3.8.4</generator>
    
      <item>
        <title>5åˆ†é’Ÿå¸¦ä½ çœ‹å®Œ WWDC 2018</title>
        <description>&lt;h2 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h2&gt;

&lt;p&gt;ä¸€å¹´ä¸€åº¦çš„ WWDCï¼ˆè‹¹æœå…¨çƒå¼€å‘è€…å¤§ä¼šï¼‰äºåŒ—äº¬æ—¶é—´ 6æœˆ5æ—¥ å‡Œæ™¨1ç‚¹å¼€å¹•ã€‚åºŸè¯ä¸å¤šè¯´ï¼Œæ¥çœ‹çœ‹è¿™æ¬¡WWDC éƒ½æœ‰å“ªäº›äº®ç‚¹å§!&lt;/p&gt;

&lt;h2 id=&quot;ios-12-å’Œ-arkit-20&quot;&gt;iOS 12 å’Œ ARKit 2.0&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;å…³é”®è¯ï¼šå®˜æ–¹é˜²æ²‰è¿·æœ€ä¸ºè‡´å‘½&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;ios-12&quot;&gt;iOS 12&lt;/h3&gt;

&lt;p&gt;iOS 12 ç›¸è¾ƒäº iOS 11 å¹¶æ²¡æœ‰å¤ªå¤šUIä¸Šçš„å˜åŠ¨ï¼Œåˆšæ›´æ–°å®Œ bate ç‰ˆæœ¬çš„ iOS 12ï¼Œå®Œå…¨æ„Ÿè§‰ä¸åˆ°è¿™æ˜¯ä¸ªæ–°ç³»ç»Ÿã€‚&lt;/p&gt;

&lt;p&gt;iOS 12 ä¸»è¦æ˜¯å¯¹å®‰å…¨å’Œæ€§èƒ½çš„ä¼˜åŒ–ï¼ŒiOS 12 åœ¨æ—§è®¾å¤‡ä¸Šçš„è¿è¡Œé€Ÿåº¦æ¯” iOS 11æ›´å—ï¼Œç¨‹åºåŠ è½½é€Ÿåº¦å¿«äº†ä¸€å€ã€‚ï¼ˆPSï¼šçœ‹æ¥è‹¹æœå¹¶æ²¡æœ‰æ”¾å¼ƒæ—§è®¾å¤‡ï¼‰&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.mos.cms.futurecdn.net/RdxhPVv8fAyM6oHsRgF6dH-650-80.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;arkit-20&quot;&gt;ARKit 2.0&lt;/h3&gt;

&lt;p&gt;Apple ä¸ çš®å…‹æ–¯ åˆä½œå¼€å‘äº†ä¸€ç§ç”¨äºå…±äº«ARå†…å®¹çš„æ–°æ–‡ä»¶æ ¼å¼ï¼Œæ–°çš„ AR æ ¼å¼åä¸º USDZã€‚&lt;/p&gt;

&lt;p&gt;ä½œä¸ºä¸€ä¸ªå«ç€é‡‘è‹¹æœå‡ºç”Ÿçš„æ–°ç”Ÿå„¿ï¼ŒUSDZ ä¸€å¼€å§‹å°±å¾—åˆ°äº† Adobe Creative Cloud ï¼ˆåŒ…æ‹¬ Photoshop CCã€InDesign CCã€Illustrator CCã€Dreamweaver CCã€Premiere Pro CCï¼‰å¥—ä»¶çš„æ”¯æŒã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://images.ifanr.cn/wp-content/uploads/2018/06/WWDC-10.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;åŒæ—¶ï¼Œé¢å‘å¼€å‘è€…çš„å¼€å‘å¥—ä»¶ ARKit åˆ™å‡çº§åˆ°äº†äºŒä»£ï¼Œä¸»è¦æå‡äº†é¢éƒ¨è·Ÿè¸ªã€æ¸²æŸ“èƒ½åŠ›ã€3D æ¢æµ‹å’Œå…±äº«ä½“éªŒç­‰èƒ½åŠ›ã€‚&lt;/p&gt;

&lt;p&gt;éšåå±•ç¤ºäº†ä¸€æ¬¾åä¸º Measure çš„ Appï¼Œå¯ä½¿ç”¨ARæŸ¥çœ‹ç‰©å“å¤§å°ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.mos.cms.futurecdn.net/4tbGCxGUGsH9VwSLsfMDK5-650-80.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æœ€åä¸ºäº†æ¼”ç¤ºæ–°çš„ AR èƒ½åŠ›å’Œæ•ˆæœï¼Œè‹¹æœè¯·æ¥äº†ä¹é«˜çš„åˆ›æ„æ€»ç›‘æ¥æ§åœºã€‚è¿™æ˜¯ä¸€ä¸ªçœŸå®çš„ä¹é«˜ç§¯æœ¨å»ºç­‘ç‰©ä¸ºåŸºç¡€ï¼Œæœ€å¤šå››ä¸ªäººå¯ä»¥ç”¨è‹¹æœ AR åº”ç”¨è¿›è¡Œæ¸¸æˆï¼Œå¯ä»¥åœ¨çœŸå®ç¯å¢ƒä¸­æ¨¡æ‹Ÿå‡ºå„ç§è™šæ‹Ÿçš„å½¢è±¡å’Œå»ºç­‘ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://images.ifanr.cn/wp-content/uploads/2018/06/WWDC-9.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;https://images.ifanr.cn/wp-content/uploads/2018/06/WWDC-11.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ç›¸å†Œä¼˜åŒ–&quot;&gt;ç›¸å†Œä¼˜åŒ–&lt;/h3&gt;

&lt;p&gt;iOS 12 çš„ç›¸å†Œå°†å¤§å¤§æå‡æœç´¢æ€§èƒ½ï¼Œç³»ç»Ÿä¸ä»…ä¼šæå‡ºæœç´¢å»ºè®®ï¼Œè¿˜ä¼šå¸®ä½ æŒ‰ä¸»é¢˜æ•´ç†ç…§ç‰‡ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://images.ifanr.cn/wp-content/uploads/2018/06/WWDC-13.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://images.ifanr.cn/wp-content/uploads/2018/06/WWDC-14.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;siriå˜å¾—æ›´èªæ˜&quot;&gt;Siriå˜å¾—æ›´èªæ˜&lt;/h3&gt;

&lt;p&gt;iOS 12 ä¸­ï¼Œè‹¹æœä¸º Siri æä¾›äº†æ›´åŠ é«˜æ•ˆçš„æ“ä½œï¼Œè®©å®ƒå¯ä»¥æ“ä½œå„ä¸ªåº”ç”¨å†…éƒ¨çš„åŠŸèƒ½ï¼Œå¹¶ä¸”èƒ½åœ¨é”å±ç•Œé¢å»ºè®®ç”¨æˆ·ä¸‹ä¸€æ­¥çš„è¡ŒåŠ¨ã€‚&lt;/p&gt;

&lt;p&gt;è‹¹æœè¿˜å‘å¸ƒäº†ä¸€æ¬¾åä¸ºã€ŒShortcutsã€çš„åº”ç”¨ï¼Œå®ƒå…è®¸ç”¨æˆ·è‡ªå®šä¹‰ Siri æœç´¢æŒ‡ä»¤ï¼Œæ”¯æŒé€šè¿‡æ‹–æ‹½æ¥å¿«é€Ÿç¼–è¾‘æŒ‡ä»¤ï¼ŒåŒæ—¶è¿˜æä¾›äº†ä¸€ä¸ªæŒ‡ä»¤åº“ä¾›ç”¨æˆ·ä¸‹è½½ç°æˆçš„å‘½ä»¤ï¼Œå°±åƒæ˜¯ä¸º Siri æ‰“é€ çš„ Workflow è‡ªåŠ¨åŒ–å·¥å…·ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.sspai.com/2018-06-04-Artboard.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;çœ‹åˆ°è¿™é‡Œï¼Œç›¸æ¯”ç†Ÿæ‚‰è‹¹æœçš„æœ‹å‹å¤§æ¦‚æ˜ç™½äº†ï¼ŒSiri çš„æœ¬æ¬¡æ”¹è¿›ï¼Œå¾ˆå¯èƒ½æ˜¯æºäºå®ƒæ”¶è´­çš„æ•ˆç‡ç¥å™¨ Workflowï¼Œå ªç§°ä¸€ä¸ªç”¨ Siri å”¤é†’çš„ Workflowã€‚&lt;/p&gt;

&lt;h3 id=&quot;åŸç”Ÿåº”ç”¨å¤§æ›´æ–°&quot;&gt;åŸç”Ÿåº”ç”¨å¤§æ›´æ–°&lt;/h3&gt;

&lt;p&gt;iOS 12 ä¸­ï¼Œä¸å°‘åŸç”Ÿåº”ç”¨éƒ½å¾—åˆ°äº†æ›´æ–°ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;iBooks æ›´åä¸º &lt;strong&gt;Apple Books&lt;/strong&gt;ï¼Œé‡‡ç”¨ç±»ä¼¼ App Store çš„æ–°ç•Œé¢è®¾è®¡ã€‚&lt;/li&gt;
  &lt;li&gt;æ–°é—»åº”ç”¨ï¼ˆNewsï¼‰åœ¨ iPad ä¸Šæ–°æ·»åŠ äº†ä¾§è¾¹æ ï¼Œæ–¹ä¾¿æµè§ˆï¼Œä¹Ÿçªå‡ºç­–åˆ’å†…å®¹ã€‚&lt;/li&gt;
  &lt;li&gt;è¯­éŸ³å¤‡å¿˜å½•ç°åœ¨æ”¯æŒ iCloud äº†&lt;/li&gt;
  &lt;li&gt;è‚¡å¸‚çš„ç•Œé¢é‡æ„ï¼Œå¯ä»¥çœ‹åˆ°è‚¡ç¥¨å…¨å¤©èµ°åŠ¿ï¼Œå¹¶æ‰“é€š News åº”ç”¨ï¼Œæ–¹ä¾¿çœ‹è´¢ç»æ–°é—»ï¼›&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;carplay-å¼€æ”¾äº†&quot;&gt;CarPlay å¼€æ”¾äº†&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;https://images.ifanr.cn/wp-content/uploads/2018/06/WWDC-21.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;CarPlay å˜å¾—æ›´åŠ å¼€æ”¾äº†ï¼Œæ›¾ç»è¢«è‹¹æœç‹ å¿ƒæŠ›å¼ƒçš„ Google Maps å’Œ Google çš„å¹²å„¿å­åœ°å›¾ Wazeï¼Œä»¥åŠæ¥è‡ªä¸œæ–¹çš„ç¥ç§˜åŠ›é‡é«˜å¾·åœ°å›¾æˆä¸ºé¦–æ‰¹ CarPlay æ”¯æŒçš„ç¬¬ä¸‰æ–¹å¯¼èˆªï¼Œä»æ­¤â€œå¿—ç²å§å§ä¸ºæ‚¨å¯¼èˆªâ€å°†å¯ä»¥å¸¸ä¼´æ—è‚¯é¢†èˆªè€…è½¦ä¸»å·¦å³ï¼Œä¸­å›½æ¢¦å’Œç¾å›½æ¢¦ä¸€èµ·å®ç°ã€‚&lt;/p&gt;

&lt;h3 id=&quot;é˜²æ‰‹æœºæ²‰è¿·---åˆ’é‡ç‚¹&quot;&gt;é˜²æ‰‹æœºæ²‰è¿· - åˆ’é‡ç‚¹ï¼&lt;/h3&gt;

&lt;p&gt;æœ¬æ¬¡ iOS 12 çš„é‡ç‚¹å°±æ˜¯ï¼š&lt;strong&gt;é˜²æ²‰è¿·ï¼&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://images.ifanr.cn/wp-content/uploads/2018/06/WWDC-25.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;é‰´äºæ‰‹æœºä¸Šç˜¾æˆä¸ºäº†ä¸€ä¸ªç¤¾ä¼šè®®é¢˜ï¼Œä»Šå¹´ Google å’Œè‹¹æœéƒ½ä¸çº¦è€ŒåŒåœ°å°†â€œé˜²æ²‰è¿·â€åŠ å…¥åˆ°äº†ç³»ç»Ÿæ›´æ–°å½“ä¸­ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Do Not Disturbï¼ˆåˆ«åµæˆ‘ï¼‰&lt;/strong&gt;åŠŸèƒ½å°†å…³æ‰æ‰‹æœºçš„è§†è§‰é€šçŸ¥ï¼Œåœ¨å¤œæ·±äººé™æƒ³èµ·å¥¹æˆ–æ¢¦è§å¥¹çš„æ—¶å€™ï¼Œæ¥äº†é‚®ä»¶ä¹Ÿä¸ä¼šäº®å±åˆºç ´å¤œçš„é™è°§å’Œé»‘æš—&lt;/li&gt;
  &lt;li&gt;Deliver Quietlyï¼ˆå®‰é™é€šçŸ¥ï¼‰åˆ™æ˜¯å°†æ¶ˆæ¯æ¨é€é™é»˜åŒ–ã€ä¸æ˜¾ç¤ºåœ¨é”å±ï¼Œä¹Ÿä¸å‡ºå£°ï¼Œä¹Ÿä¸ä¼šåœ¨ app å³ä¸Šè§’æ ‡çº¢&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Grouped Notificationsï¼ˆåˆ†ç»„é€šçŸ¥&lt;/strong&gt;ï¼‰å¯ä»¥å°†æŸä¸€ç±»å‹çš„é€šçŸ¥å½’ç»„ï¼Œå¾®ä¿¡ç¾¤èŠæ¶ˆæ¯ä¸å†æœ‰è½°ç‚¸çš„æ„Ÿè§‰&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Reportsï¼ˆåº”ç”¨æŠ¥å‘Šï¼‰&lt;/strong&gt;å¯ä»¥ç”¨å‘¨æŠ¥å‘Šçš„å½¢å¼ï¼Œå‘Šè¯‰ç”¨æˆ·ç”¨ä»€ä¹ˆåº”ç”¨æœ€å¤šï¼Œå“ªä¸ªåº”ç”¨é€šçŸ¥æœ€å¤šï¼Œæ¯å¤©èµ·åºŠç¬¬ä¸€ä¸ªæ‰“å¼€çš„æ˜¯ä»€ä¹ˆåº”ç”¨ç­‰ç­‰&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;App Limitsï¼ˆåº”ç”¨é™åˆ¶&lt;/strong&gt;ï¼‰å¯ä»¥ç»™æŸä¸ªåº”ç”¨è§„å®šä½¿ç”¨æ—¶é—´ï¼Œå½“ç„¶è¿™ä¸æ˜¯å¼ºåˆ¶æ€§çš„ï¼Œç”¨æˆ·å¯ä»¥çªç ´é™åˆ¶ç»§ç»­â€œåƒé¸¡â€&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Allowancesï¼ˆé›¶ç”¨é’±ï¼Ÿï¼‰&lt;/strong&gt; æ˜¯å®¶é•¿é™åˆ¶å­©å­ä½¿ç”¨åº”ç”¨çš„æ–°ç‰¹æ€§&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;imessage-å’Œ-feactime&quot;&gt;iMessage å’Œ FeacTime&lt;/h3&gt;

&lt;p&gt;Animoji æ–°å¢äº† 4 ä¸ªæ–°è¡¨æƒ…ï¼ˆå¹½çµï¼Œè€ƒæ‹‰ï¼Œè€è™å’Œéœ¸ç‹é¾™ï¼‰ï¼Œç”¨æˆ·è¿˜å¯ä»¥ä¸ºè‡ªå·±é‡èº«å®šåš Animoji ï¼Œå¹¶ç”¨åˆ°å„ç§åœºæ™¯â€”â€”è¿™å°±æ˜¯å…¨æ–°çš„ Memoji æŠ€æœ¯&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://images.ifanr.cn/wp-content/uploads/2018/06/WWDC-26.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.sspai.com/2018/06/05/67b6fba3d36bdd7caf09bec94dcb157b.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;iOS ç‰ˆ &lt;strong&gt;FaceTime&lt;/strong&gt; è¿æ¥äº†ç¾¤èŠåŠŸèƒ½ï¼Œæœ€å¤šæ”¯æŒ 32 äººåŒæ—¶èŠå¤©ï¼Œæˆå‘˜å¯ä»¥éšæ—¶åŠ å…¥æˆ–ç¦»å¼€èŠå¤©ã€‚èŠå¤©ç•Œé¢ç”¨ç€‘å¸ƒæµçš„å½¢å¼å‘ˆç°ï¼Œæ­£åœ¨è¯´è¯çš„æˆå‘˜çª—å£ä¼šè‡ªåŠ¨æ”¾å¤§ã€‚macOS ç‰ˆ FaceTime åŒæ ·ä¹Ÿå¾—åˆ°äº†æ›´æ–°ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.sspai.com/2018-06-04-Screen%20Shot%202018-06-05%20at%202.00.58%20AM.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;tvos&quot;&gt;tvOS&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;å…³é”®è¯ï¼šä¼˜åŒ–è¯•å¬ä½“éªŒ&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;tvOS ä»Šå¹´çš„å˜åŒ–æ¯”è¾ƒå°ï¼Œæ›´æ–°ä¸»è¦é›†ä¸­åœ¨äº†å½±è§†èµ„æºä»¥åŠç»†èŠ‚ä¼˜åŒ–ä¸Šã€‚&lt;/p&gt;

&lt;p&gt;Apple TV 4K å°†æ”¯æŒæœæ¯”å…¨æ™¯å£°å’Œæœæ¯”è§†ç•Œï¼Œè®©ä½ åœ¨å®¶é‡Œä¹Ÿèƒ½è·å¾—ç”µå½±é™¢èˆ¬çš„å¬è§‰ä½“éªŒã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.sspai.com/2018-06-04-Screen%20Shot%202018-06-05%20at%202.26.21%20AM.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;watchos-5&quot;&gt;watchOS 5&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;å…³é”®è¯ï¼šè¿åŠ¨è¿›è¡Œåˆ°åº•&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;éšç€ Apple Watch æˆé•¿çš„ï¼Œè¿˜æœ‰å®ƒçš„æ“ä½œç³»ç»Ÿ watchOSï¼Œè¿™ä¸€æ¬¡ watchOS å‡çº§åˆ°äº†ç¬¬äº”ä»£ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://images.ifanr.cn/wp-content/uploads/2018/06/WWDC-31.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Apple Watch çš„åŠŸèƒ½æœç€è¿åŠ¨çš„æ–¹å‘å‘å±•ï¼Œæ­¤æ¬¡ watchOS 5 çš„æ›´æ–°ï¼Œä¹Ÿä»¥è¿åŠ¨ä¸ºä¸»ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://images.ifanr.cn/wp-content/uploads/2018/06/WWDC-35.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;watchOS 5 çš„ä¸€ä¸ªå°æƒŠå–œæ˜¯è®© Apple Watch æˆä¸ºäº†å¯¹è®²æœºï¼Œè¿™ä¸ªåº”ç”¨åä¸º Walkie Talkieï¼ˆå¯¹è®²æœºï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://images.ifanr.cn/wp-content/uploads/2018/06/WWDC-38.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Apple Watch æ—©å°±æ”¯æŒäº† Apple Payï¼Œä¸è¿‡åœ¨é€šçŸ¥ä¸Šï¼ŒApple Watch æ˜¾ç„¶å¯ä»¥åšå¾—æ›´å¤šï¼Œæ¯”å¦‚å€¼æœºå’Œç»™æ»´æ»´å¸ˆå‚…ä»˜æ¬¾è¯„åˆ†ï¼Œæ‰‹è¡¨ä¸å†åªæ˜¯ä¸ªé€šçŸ¥å™¨ï¼Œä¹Ÿèƒ½åšäº›è½»äº¤äº’ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://images.ifanr.cn/wp-content/uploads/2018/06/WWDC-51.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è¿˜æœ‰ Apple Watch å¯ä»¥æµè§ˆç½‘é¡µäº†~&lt;/p&gt;

&lt;h2 id=&quot;macos-mojave&quot;&gt;macOS Mojave&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;å…³é”®è¯ï¼šå¤œé—´æ¨¡å¼ã€å…¨æ–°çš„App Store&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.sspai.com/2018-06-04-macOS01.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¯¹äºå¤§å¤šæ•°äººæ¥è¯´ï¼ŒmacOS æ›´æ–°æœ€å¤§çš„æ‚¬å¿µï¼Œæ˜¯æ–°ç³»ç»Ÿå«ä»€ä¹ˆåå­—ã€‚&lt;/p&gt;

&lt;p&gt;ç­”æ¡ˆæ˜¯ï¼š&lt;strong&gt;macOS Mojave&lt;/strong&gt;ï¼ŒMojave ä¸­è¯‘åæ˜¯è«å“ˆéŸ¦æ²™æ¼ ï¼Œä½äºåœ¨ç¾å›½åŠ åˆ©ç¦å°¼äºšè¥¿å—ï¼Œå‡ºäºæ´›æ‰çŸ¶å’Œæ‹‰æ–¯ç»´åŠ æ–¯ä¹‹é—´ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ Mojave è¿™ç‰ˆç³»ç»Ÿä¸­ï¼Œè‹¹æœåŠ å…¥äº†ä¸€å¥—é€‚åº”æš—å…‰ç¯å¢ƒä¸‹ä½¿ç”¨çš„å¤œé—´ä¸»é¢˜ï¼Œå¹¶å¯¹ Mac App Store çš„äº¤äº’ç•Œé¢è¿›è¡Œäº†é‡å¡‘ï¼Œæ•´ä¸ªç³»ç»Ÿçš„æ”¹å˜ç”šè‡³è¿åº“å…‹éƒ½ç§°ä¸ºæ˜¯è‹¹æœçš„ä¸€æ¬¡ â€œå·¨å¤§çš„è·¨è¶Šâ€ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://images.ifanr.cn/wp-content/uploads/2018/06/WWDC-89.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;å¤œé—´æ¨¡å¼--åŠ¨æ€æ¡Œé¢&quot;&gt;å¤œé—´æ¨¡å¼ / åŠ¨æ€æ¡Œé¢&lt;/h3&gt;

&lt;p&gt;ä¸å°‘ç”¨æˆ·ä¼šåœ¨æš—å…‰ç¯å¢ƒä¸‹ä½¿ç”¨ç”µè„‘ï¼Œå³ä¾¿æ˜¯å°†å±å¹•äº®åº¦è°ƒåˆ°æœ€ä½ï¼Œä¹Ÿéš¾å…ä¼šå› ä¸ºç™½åº•è‰²ä¸ºä¸»çš„ä¸»é¢˜è€Œæ„Ÿåˆ°åˆºçœ¼ã€‚åœ¨è¿™æ¬¡æ›´æ–°ä¸­ï¼ŒmacOS Mojave æ–°å¢åŠ äº†ä¸€å¥—æš—è‰²ä¸»é¢˜ï¼Œä¸åŒäºç›®å‰å°†èœå•å’Œç¨‹åºæ è°ƒæˆæš—è‰²çš„é€‰é¡¹ï¼Œæ–°ç³»ç»Ÿä¸Šçš„æ˜¯ä¸€å¥—å…¨å±€æš—è‰²ä¸»é¢˜ï¼Œå³ä¾¿æ˜¯åœ¨æ–‡ä»¶å¤¹ã€åº”ç”¨é‡Œéƒ½æ˜¯ä»¥é»‘è‰²ä¸ºä¸»è‰²å‘ˆç°ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://images.ifanr.cn/wp-content/uploads/2018/06/WWDC-63.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¦å¤–ï¼Œç³»ç»Ÿå¯æ ¹æ®æ—¶é—´å˜åŒ–å¯¹æ¡Œé¢è¿›è¡Œè‡ªåŠ¨è°ƒæ•´ï¼Œæ—¥é—´ä½¿ç”¨æ—¶ç³»ç»Ÿä¸ºæ­£å¸¸ä¸»é¢˜ï¼›å¤œé—´ä½¿ç”¨æ—¶ç³»ç»Ÿåˆ™è‡ªåŠ¨åˆ‡æ¢è‡³æš—è‰²æ¨¡å¼ä¸»é¢˜ã€‚æ­¤æ—¶ï¼Œå°ä¸‹çš„å¼€å‘è€…ä»¬çˆ†å‘å‡ºäº†ä¸€é˜µæ¬¢å‘¼ï¼Œå¤§æ¦‚æ˜¯è¿™ä¸ªä¸»é¢˜èƒ½å¤Ÿæå‡ç¨‹åºå‘˜æœ‹å‹å¤œé—´åŠ ç­çš„å¹¸ç¦æ„Ÿå§ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://images.ifanr.cn/wp-content/uploads/2018/06/WWDC-63.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;æ™ºèƒ½åˆ†ç±»&quot;&gt;æ™ºèƒ½åˆ†ç±»&lt;/h3&gt;

&lt;p&gt;macOS ä¼šè·Ÿæ®æ–‡ä»¶ç±»å‹å’Œæ ‡ç­¾å¯¹æ¡Œé¢çš„æ–‡ä»¶è¿›è¡Œè‡ªåŠ¨åˆ†ç±»æ•´ç†ï¼Œä»æ­¤å†ä¹Ÿä¸ç”¨æ‹…å¿ƒæ»¡æ¡Œé¢éƒ½æ˜¯æ–‡ä»¶äº†ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://images.ifanr.cn/wp-content/uploads/2018/06/WWDC-82.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.sspai.com/2018-06-04-macOS04.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;å¿«é€ŸæŸ¥çœ‹å‡çº§&quot;&gt;å¿«é€ŸæŸ¥çœ‹å‡çº§&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;https://images.ifanr.cn/wp-content/uploads/2018/06/WWDC-92.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è®¿è¾¾åœ¨è¿™æ¬¡ç³»ç»Ÿä¸Šçš„æ›´æ–°å¹¶ä¸å¤šï¼Œåªæ˜¯é’ˆå¯¹å›¾ç‰‡æŸ¥çœ‹å¢æ·»äº† â€œå›¾åº“è§†å›¾â€ åŠŸèƒ½ã€‚é€šè¿‡ â€œå›¾åº“è§†å›¾â€ï¼Œç”¨æˆ·å¯æ›´åŠ ä¾¿æ·å¿«é€Ÿåœ°æµè§ˆåˆ°è®¿è¾¾æ–‡ä»¶å¤¹å†…çš„å›¾ç‰‡å†…å®¹ï¼Œä¸æ­¤åŒæ—¶åŠŸèƒ½å†…éƒ¨ä¹Ÿå†…ç½®äº†å›¾ç‰‡å…ƒæ•°æ®æ˜¾ç¤ºçª—ï¼Œç”¨æˆ·å¯ä»¥å€ŸåŠ©æ•°æ®çª—å£äº†è§£åˆ°å›¾ç‰‡çš„ç›¸å…³è¯¦æƒ…ï¼Œå¹¶ä¸”å¯å¯¹å›¾ç‰‡è¿›è¡Œå¿«é€Ÿç¼–è¾‘æ“ä½œã€‚&lt;/p&gt;

&lt;h3 id=&quot;æˆªå›¾å½•å±æ“ä½œ---ç±»ä¼¼ios&quot;&gt;æˆªå›¾/å½•å±æ“ä½œ - ç±»ä¼¼iOS&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;https://images.ifanr.cn/wp-content/uploads/2018/06/WWDC-93.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ­¤æ¬¡ macOS Mojave åŠ å…¥äº† â€œç³»ç»Ÿçº§â€ çš„æˆªå±åŠŸèƒ½ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥åœ¨æˆªå±åå¯¹æˆªå±å›¾ç‰‡è¿›è¡Œç®€å•çš„æ ‡è®°ã€‚ä¸è¿‡å®é™…ä¸Šï¼Œç›®å‰ä¸å°‘ç¤¾äº¤è½¯ä»¶å…¶å®éƒ½å·²ç»å…·å¤‡äº†æˆªå›¾ + æ ‡è®°çš„ç›¸å…³åŠŸèƒ½ï¼Œä¸”åœ¨ä½“éªŒä¸Šä¹Ÿç›¸å½“ä¸é”™ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å®‰å…¨æƒé™&quot;&gt;å®‰å…¨æƒé™&lt;/h3&gt;

&lt;p&gt;å½“æˆ‘ä»¬åœ¨ iOS ç³»ç»Ÿä¸Šæ‰“å¼€åˆšä¸‹è½½çš„åº”ç”¨ç¨‹åºæ—¶ï¼Œç³»ç»Ÿä¼šå¼¹å‡ºå¼¹çª—ï¼Œæç¤ºæ˜¯å¦å…è®¸ç¨‹åºè®¿é—®ç”¨æˆ·ä¿¡æ¯å’Œæ‰‹æœºç¡¬ä»¶ã€‚è€Œè¿™æ¬¡è‹¹æœä¹Ÿå°†ç›¸å…³çš„å®‰å…¨æ§åˆ¶ç­–ç•¥ä» iOS â€œæ¬â€ åˆ°äº† macOS ä¸Šï¼Œå½“ç”¨æˆ·æ‰“å¼€æŸä¸ªç½‘å€æˆ–ç¨‹åºæ—¶ï¼Œç³»ç»Ÿä¼šå¼¹å‡º â€œæ˜¯å¦å…è®¸è®¿é—®â€ çš„å¼¹çª—ä»¥è·å¾—ç”¨æˆ·æ‰¹å‡†ã€‚è¿™ä¹Ÿå¯èƒ½æ˜¯ä¸ºäº†å‘¼åº”æœ€è¿‘è¶Šå‘ä¸¥æ ¼çš„éšç§æ”¿ç­–ã€‚&lt;/p&gt;

&lt;h3 id=&quot;åœ¨-macos-ä¸Šè¿è¡Œçš„å‡ æ¬¾-ios-ç¨‹åº&quot;&gt;åœ¨ macOS ä¸Šè¿è¡Œçš„å‡ æ¬¾ iOS ç¨‹åº&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;https://images.ifanr.cn/wp-content/uploads/2018/06/WWDC-84.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å°† iOS çš„åº”ç”¨ç¨‹åºæ¬åˆ° macOS ä¸Šè¿è¡Œæ˜¯ä¸å°‘ç©å®¶æ›¾ç»æœ‰è¿‡çš„æƒ³æ³•ã€‚æ­¤æ¬¡è‹¹æœåœ¨æ–°ç‰ˆçš„ macOS ç³»ç»Ÿä¸ŠåŠ å…¥äº† iOS ç«¯çš„æ–°é—»ã€è‚¡å¸‚ã€å®¶ã€è¯­éŸ³å¤‡å¿˜å½•å››ä¸ªç¨‹åºï¼Œç”¨æˆ·å¯ä»¥åœ¨æ¡Œé¢ç³»ç»Ÿä¸Šé€šè¿‡è¿™å‡ æ¬¾åº”ç”¨é˜…è¯»æ–°é—»ã€æ§åˆ¶å®¶åº­è®¾å¤‡ç­‰ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨å‘å¸ƒä¼šçš„æœ€åï¼Œè‹¹æœå¦è®¤äº†å°†å¯¹ iOS å’Œ macOS è¿›è¡Œåˆå¹¶çš„ä¼ é—»ï¼Œä½†è€ƒè™‘åˆ° iOS å¹³å°æœ‰éå¸¸åºå¤§çš„åº”ç”¨æ•°é‡ï¼Œä»–ä»¬ä¹Ÿå¸Œæœ›å…¶ä¸­çš„éƒ¨åˆ†åº”ç”¨èƒ½æ¥åˆ° macOSã€‚äºæ˜¯è‹¹æœåœ¨å‘å¸ƒä¼šä¸Šä¸ºå¤§å®¶æå‰é¢„è§ˆäº†ä¸€ä¸ªå‡†å¤‡å¤šå¹´çš„é¡¹ç›®ï¼ŒmacOS å°†å¯ä»¥ä½¿ç”¨ iOS çš„ UIKit æ¡†æ¶è¿›è¡Œå¼€å‘ï¼Œä»¥é™ä½å¼€å‘å¤šå¹³å°åº”ç”¨çš„æˆæœ¬ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.sspai.com/2018-06-04-Screen%20Shot%202018-06-05%20at%203.08.05%20AM.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ¯”å¦‚è¿™æ¬¡ macOS Mojave ä¸­æ–°å¢çš„ 4 æ¬¾åº”ç”¨â€”â€”Newsã€è‚¡ç¥¨ã€è¯­éŸ³å¤‡å¿˜å½•ã€å®¶åº­â€”â€”å‡é‡‡ç”¨äº†è¿™ç§æ–°æŠ€æœ¯ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å…¨æ–°çš„-mac-app-store&quot;&gt;å…¨æ–°çš„ Mac App Store&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn.sspai.com/2018-06-04-macOS09.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;åœ¨ iOS 11 å¯¹ Mac App Store è¿›è¡Œäº†é‡æ–°è®¾è®¡åï¼ŒmacOS Mojave ä¹Ÿè¿æ¥äº†å…¨æ–°è®¾è®¡çš„ Mac App Storeã€‚æ–°ç‰ˆæ‹¥æœ‰ä¸ iOS ä¸Š App Store ç±»ä¼¼çš„å‘ç°é¡µï¼Œé‡Œé¢èƒ½çœ‹åˆ°æ¯æ—¥ç¼–è¾‘æ¨èå’Œä¸€äº› App çš„ä½¿ç”¨æŠ€å·§ã€‚è¿›å…¥ App é¡µé¢åï¼Œä½ å¯ä»¥çœ‹åˆ°è§†é¢‘é¢„è§ˆå’Œä¸ iOS ç±»ä¼¼çš„è¯„åˆ†ç³»ç»Ÿã€‚ä¸ºäº†æ–¹ä¾¿ç”¨æˆ·è¯„åˆ†ï¼Œæ–°ç‰ˆ macOS è¿˜åŠ å…¥äº†å’Œ iOS ä¸€æ ·çš„ App å†…æ‰“åˆ†åŠŸèƒ½ã€‚æ­¤å¤–ï¼Œè‹¹æœè¿˜å®£å¸ƒåŒ…æ‹¬ Office 365 å’Œ Adobe Lightroom CC åœ¨å†…çš„ä¸€æ‰¹é‡é‡çº§ App å°†åœ¨ä»Šå¹´ç¨åç™»å½• Mac App Storeã€‚&lt;/p&gt;

&lt;h2 id=&quot;ç»“è¯­&quot;&gt;ç»“è¯­&lt;/h2&gt;

&lt;p&gt;æ˜¯çš„ï¼Œè¿™æ¬¡çš„ WWDC åªæœ‰è½¯ä»¶ï¼Œæ²¡æœ‰æ–°çš„ç”µå­è®¾å¤‡å‘å¸ƒï¼Œæ²¡æœ‰æ–° iPad Proã€æ²¡æœ‰ iPhone SE2ã€æ²¡æœ‰å¸¦å…«ä»£é…·ç¿çš„æ–° MacBookï¼Œå”¯ä¸€èƒ½å’Œâ€œç¡¬ä»¶â€æ²¾ä¸Šè¾¹çš„å°±æ˜¯ä¸€ä¸ªæ–°çš„å½©è™¹è¡¨å¸¦ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://images.ifanr.cn/wp-content/uploads/2018/06/WWDC-56.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ—¶è‡³ä»Šæ—¥ï¼Œè‹¹æœç”Ÿæ€å·²ç»æ—¥è¶‹å®Œå–„äº†ï¼Œå¤§æ¦‚è‹¹æœçš„äº§å“ç»ç†ä»¬ä¹Ÿæƒ³ä¸å‡ºä»€ä¹ˆçŸ³ç ´å¤©æƒŠçš„åŠŸèƒ½è®©å¤§å®¶ wow ä¸€å£°äº†ï¼Œæœ‰çš„åªæ˜¯ç»†èŠ‚å±‚é¢çš„æ”¹è¿›ã€‚ä½œä¸ºçœ‹å®¢å’Œç”¨æˆ·ï¼Œä¹Ÿåªèƒ½æ¥å—è¿™æ ·çš„ç°å®äº†ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹äº†ï¼Œé‚£ä¸ªå¯ä»¥å››ä¸ªäººä¸€èµ·ç©çš„ä¹é«˜ç§¯æœ¨å’Œ AR åº”ç”¨ï¼Œå€’æ˜¯å¯ä»¥è€ƒè™‘ä¹°æ¥ç©ä¸€ä¸‹ï¼Œä¸è¦ä¸€è¾¹è¯´æ²¡æœ‰æ–°ä¸œè¥¿ï¼Œä¸€è¾¹åˆå¯¹æ–°ä¸œè¥¿è§†è€Œä¸è§ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹äº iOS å¼€å‘è€…æ¥è¯´ï¼ŒmacOS å°†å¯ä»¥ä½¿ç”¨ iOS çš„ UIKit æ¡†æ¶è¿›è¡Œå¼€å‘æ˜¯ä¸€ä¸ªå€¼å¾—å…³æ³¨çš„ç‚¹ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://developer.apple.com/videos/play/wwdc2018/101/&quot;&gt;WWDC 2018 Keynote&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.techradar.com/news/apple-wwdc-2018-keynote&quot;&gt;Apple WWDC 2018: whatâ€™s new? All the announcements from the keynote&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.ifanr.com/1043270&quot;&gt;iOS åŠ å…¥ã€Œé˜²æ²‰è¿·ã€ï¼ŒmacOS æœ‰äº†æš—è‰²ä¸»é¢˜ï¼Œä»Šå¹´çš„ WWDC é‡ç‚¹éƒ½åœ¨ç³»ç»Ÿä¸Š&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://sspai.com/post/44816&quot;&gt;è‹¹æœ WWDC 2018ï¼šæœ€å…¨æ€»ç»“çœ‹è¿™é‡Œï¼Œä¸é”™è¿‡ä»»ä½•é‡ç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Tue, 05 Jun 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/06/05/5%E5%88%86%E9%92%9F%E5%B8%A6%E4%BD%A0%E7%9C%8B%E5%AE%8C-WWDC-2018/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/06/05/5%E5%88%86%E9%92%9F%E5%B8%A6%E4%BD%A0%E7%9C%8B%E5%AE%8C-WWDC-2018/</guid>
        
        <category>iOS</category>
        
        
      </item>
    
      <item>
        <title>iOS Widgetçš„ç®€å•å®ç°</title>
        <description>&lt;h3 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;è‡ªiOS8ä¹‹åï¼Œè‹¹æœæ”¯æŒäº†æ‰©å±•ï¼ˆExtensionï¼‰çš„å¼€å‘ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡ç³»ç»Ÿæä¾›ç»™æˆ‘ä»¬çš„æ‰©å±•æ¥å…¥ç‚¹ (Extension point) æ¥ä¸ºç³»ç»Ÿç‰¹å®šçš„æœåŠ¡æä¾›æŸäº›é™„åŠ çš„åŠŸèƒ½ã€‚ä»Šå¹´iOS10çš„æ¨å‡ºï¼Œè®©Widgetæ‰©å±•åº”ç”¨æ¸æ¸çš„ç«äº†èµ·æ¥ï¼Œåœ°ä½å¾—åˆ°é‡å¤§çš„æå‡ï¼Œä»è¿™ä¹Ÿå¯ä»¥çœ‹å‡ºè‹¹æœå¯¹ä»–çš„é‡è§†ï¼Œä»Šå¤©æˆ‘ä»¬å°±æ¥ä¸€èµ·å­¦ä¹ ä¸‹Widgetï¼Œæ¥å®ç°ä¸€ä¸ªç®€å•çš„æ‰©å±•ç¨‹åºã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-dd0a3ebee434a9ec.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ç¨‹åºæ•ˆæœ&quot;&gt;ç¨‹åºæ•ˆæœ&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-9a62de27618dd755.gif?imageMogr2/auto-orient/strip&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;åˆ›å»ºwidgetç¨‹åº&quot;&gt;åˆ›å»ºWidgetç¨‹åº&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;åˆ›å»ºå·¥ç¨‹ï¼Œåœ¨å·¥ç¨‹ä¸­æ·»åŠ æ‰©å±•ç¨‹åº&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-2dc240dcd5d68f6c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-d8f436829039615e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;åˆ›å»ºæˆåŠŸåçš„ç›®å½•&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-498cca063da18794.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;é¡ºä¾¿è¯´ä¸€å¥ï¼Œæ‰©å±•ç¨‹åºè™½ç„¶æ˜¯ç¨‹åºçš„æ‰©å±•ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªåº”ç”¨å…¶å®æ˜¯â€œç‹¬ç«‹â€çš„ã€‚å‡†ç¡®çš„æ¥è¯´ï¼Œå®ƒä»¬æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ï¼Œé»˜è®¤æƒ…å†µä¸‹äº’ç›¸ä¸åº”è¯¥çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ã€‚æ‰©å±•éœ€è¦å¯¹å®¿ä¸» app (host appï¼Œå³è°ƒç”¨è¯¥æ‰©å±•çš„ app) çš„è¯·æ±‚åšå‡ºå“åº”ï¼Œå½“ç„¶ï¼Œé€šè¿‡è¿›è¡Œé…ç½®å’Œä¸€äº›æ‰‹æ®µï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ‰©å±•ä¸­è®¿é—®å’Œå…±äº«ä¸€äº›å®¹å™¨ app çš„èµ„æºï¼Œè¿™ä¸ªæˆ‘ä»¬ç¨åå†è¯´ã€‚&lt;/p&gt;

&lt;h3 id=&quot;widgetå¸ƒå±€æ–¹å¼&quot;&gt;Widgetå¸ƒå±€æ–¹å¼&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;ä½¿ç”¨Interface Builder
å·¥ç¨‹é»˜è®¤çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨Interface Builderï¼Œå¦‚æœå®ç°ç®€å•çš„å¸ƒå±€çš„è¯å¯ä»¥è€ƒè™‘è¿™ç§æ–¹å¼ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ä½¿ç”¨ä»£ç è¿›è¡Œå¸ƒå±€
å½“æ¶‰åŠåˆ°æ¯”è¾ƒå¤æ‚çš„UIå¸ƒå±€çš„æ—¶å€™ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨è¿™ç§å¸ƒå±€æ–¹å¼ï¼ŒæŒ‰å¤§å®¶å¹³æ—¶çš„ä¹ æƒ¯æ¥ã€‚è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨ä»£ç å¸ƒå±€çš„è¯éœ€è¦ä¿®æ”¹ä¸€ä¸‹plistæ–‡ä»¶ã€‚
é¦–å…ˆå°†åŸæœ‰&lt;code class=&quot;highlighter-rouge&quot;&gt;NSExtensionMainStoryboard&lt;/code&gt;å­—æ®µåˆ é™¤ï¼Œæ·»åŠ å­—æ®µ&lt;code class=&quot;highlighter-rouge&quot;&gt;NSExtensionPrincipalClass&lt;/code&gt;ï¼Œvalueæ˜¯ä½ æ‰€å†™çš„controllerçš„åç§°ï¼Œä¸€èˆ¬é»˜è®¤çš„éƒ½æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;TodayViewController&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-3f01410146ae3185.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;å®ç°ç›¸åº”çš„æ–¹æ³•&quot;&gt;å®ç°ç›¸åº”çš„æ–¹æ³•&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;1. è®¾ç½®Widgetçš„size&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;iOS10ä¹‹åï¼ŒWidgetæ”¯æŒå±•å¼€åŠæŠ˜å ä¸¤ç§å±•ç°æ–¹å¼ï¼Œé€šè¿‡è®¾ç½®&lt;code class=&quot;highlighter-rouge&quot;&gt;widgetLargestAvailableDisplayMode&lt;/code&gt;å±æ€§å¯ä»¥è®©Widgetç¨‹åºå®ç°å±•å¼€å¸ƒå±€ã€‚å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;viewDidLoad&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;super&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;viewDidLoad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// Do any additional setup after loading the view from its nib.&lt;/span&gt;
    
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isIOS10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;extensionContext&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;widgetLargestAvailableDisplayMode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NCWidgetDisplayModeExpanded&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    
    &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;preferredContentSize&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGSizeMake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kWidgetWidth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;110&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;2. é‡å†™åˆ‡æ¢å±•å¼€åŠæŠ˜å å¸ƒå±€æ—¶çš„æ–¹æ³•ï¼ˆiOS10ä¹‹åï¼‰&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;widgetActiveDisplayModeDidChange&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NCWidgetDisplayMode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;activeDisplayMode&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;withMaximumSize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;CGSize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;maxSize&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;maxWidth %f maxHeight %f&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;maxSize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;maxSize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;activeDisplayMode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NCWidgetDisplayModeCompact&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;preferredContentSize&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGSizeMake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;maxSize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;110&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;preferredContentSize&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGSizeMake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;maxSize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;3. iOS10ä¹‹å‰ï¼Œè§†å›¾åŸç‚¹é»˜è®¤å­˜åœ¨ä¸€ä¸ªé—´è·ï¼Œå¯ä»¥å®ç°ä»¥ä¸‹æ–¹æ³•æ¥è°ƒæ•´è§†å›¾é—´è·&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;æ³¨ï¼š&lt;/code&gt;è¯¥æ–¹æ³•åœ¨iOS10ä¹‹åè¢«é—å¼ƒï¼ŒiOS10é»˜è®¤ä¸å­˜åœ¨é—´è·ã€‚&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;UIEdgeInsets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;widgetMarginInsetsForProposedMarginInsets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;UIEdgeInsets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;defaultMarginInsets&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIEdgeInsetsMake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;åº”ç”¨å”¤é†’&quot;&gt;åº”ç”¨å”¤é†’&lt;/h3&gt;
&lt;p&gt;æœ¬æ¥æƒ³å«åº”ç”¨é—´è·³è½¬çš„ï¼Œæƒ³æƒ³è¿˜æ˜¯è¿™ä¸ªåå­—æ¯”è¾ƒé«˜å¤§ä¸Šäº›ğŸ˜&lt;/p&gt;

&lt;p&gt;å¦‚ä¸‹ï¼Œé…ç½®url schemeï¼Œè¿™ä¸ªå®šä¹‰çš„æ—¶å€™å°½é‡ä¸è¦å’Œå…¶ä»–ç”¨ç”¨å†²çªï¼Œç¬”è€…å®šä¹‰çš„ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;WidgetDemo&lt;/code&gt;ã€‚è¿™æ ·ï¼Œé€šè¿‡è®¿é—®&lt;code class=&quot;highlighter-rouge&quot;&gt;WidgetDemo://&lt;/code&gt;å°±å¯ä»¥å®ç°åº”ç”¨å”¤é†’äº†ã€‚ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-69f262be69293ae0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;redButtonPressed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;UIButton&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;button&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;%s&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__func__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    
    &lt;span class=&quot;kt&quot;&gt;NSURL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSURL&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;URLWithString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;WidgetDemo://red&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;extensionContext&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;openURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;completionHandler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;BOOL&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        
        &lt;span class=&quot;kt&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;isSuccessed %d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}];&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç›¸åº”çš„ï¼Œåœ¨AppDelegateä¸­å®ç°ä»¥ä¸‹æ–¹æ³•ï¼Œè¿™é‡Œå¯ä»¥å¤„ç†ä¼ è¿‡æ¥çš„actionï¼Œå¯¹äºä¼ è¿‡æ¥ä¸åŒçš„å€¼å¯ä»¥è¿›è¡Œä¸åŒçš„æ“ä½œï¼Œè¿™é‡Œæˆ‘ä»¬æ‰“å°äº†è¯·æ±‚urlçš„å†…å®¹ã€‚&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;BOOL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;UIApplication&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;openURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSURL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;sourceApplication&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sourceApplication&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;annotation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;annotation&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;([[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;absoluteString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;hasPrefix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;WidgetDemo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;UIAlertView&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alert&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;UIAlertView&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;initWithTitle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;æç¤º&quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;stringWithFormat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;ä½ ç‚¹å‡»äº†%@æŒ‰é’®&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;delegate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;cancelButtonTitle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;å¥½çš„ğŸ‘Œ&quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;otherButtonTitles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alert&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;  &lt;span class=&quot;kt&quot;&gt;YES&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;ç®€æ˜“çš„åº”ç”¨å¿«é€Ÿå¯åŠ¨å™¨
æ—¢ç„¶è¯´åˆ°äº†åº”ç”¨å”¤é†’ï¼Œè¿™é‡Œå†ç¨ç¨æ‹“å±•ä»¥ä¸‹ï¼Œæƒ³å¿…å¤§å®¶éƒ½æœ‰ç”¨è¿‡ç±»ä¼¼launcherè¿™ç§çš„åº”ç”¨å¿«é€Ÿå¯åŠ¨å™¨ã€‚å…¶å®å°±æ˜¯è¿ç”¨äº†åº”ç”¨é—´è·³è½¬çš„åŸç†ï¼Œæ¯æ¬¾åº”ç”¨éƒ½æœ‰è‡ªå®šä¹‰çš„url schemeï¼Œæˆ‘ä»¬åªè¦çŸ¥é“ä»–ä»¬çš„url schemeå°±å¯ä»¥è·³è½¬è‡³æ”¹æ¬¾åº”ç”¨ï¼Œä¾‹å¦‚è¿›è¡Œå¾®ä¿¡çš„è·³è½¬ï¼š&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wechatLoginButtonPressed&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;%s&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__func__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    
    &lt;span class=&quot;kt&quot;&gt;NSURL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSURL&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;URLWithString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;wechat://&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;extensionContext&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;openURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;completionHandler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;BOOL&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        
        &lt;span class=&quot;kt&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;isSuccessed %d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}];&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä»¥ä¸‹æ˜¯æˆ‘ä»¬æ¯”è¾ƒå¸¸ç”¨çš„è½¯ä»¶çš„url schemeï¼Œæœ‰å…´è¶£çš„åŒå­¦ä»¬å¯ä»¥è¯•ä¸€è¯•ï¼š
&lt;code class=&quot;highlighter-rouge&quot;&gt;QQ mqq://
å¾®ä¿¡ weixin://
æ·˜å®taobao://
å¾®åš sinaweibo://
æ”¯ä»˜å®alipay://&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;æ•°æ®å…±äº«&quot;&gt;æ•°æ®å…±äº«&lt;/h3&gt;

&lt;p&gt;æ‰©å±•ç¨‹åºä¸€èˆ¬éƒ½ä¸æ˜¯è„±ç¦»å®¿ä¸»ç¨‹åºå•ç‹¬è¿è¡Œçš„ï¼Œéš¾å…éœ€è¦å’Œå®¿ä¸»ç¨‹åºè¿›è¡Œæ•°æ®äº¤äº’ã€‚è€Œç›¸å¯¹äºä¸€èˆ¬çš„APPï¼Œæ•°æ®å¯ä»¥ç”¨å•ä¾‹ï¼ŒNSUserDefaultç­‰ç­‰ã€‚ä½†ç”±äºæ‹“å±•ä¸å®¿ä¸»åº”ç”¨æ˜¯ä¸¤ä¸ªå®Œå…¨ç‹¬ç«‹çš„Appï¼Œå¹¶ä¸”iOSåº”ç”¨åŸºäºæ²™ç›’çš„å½¢å¼é™åˆ¶ï¼Œæ‰€ä»¥ä¸€èˆ¬çš„å…±äº«æ•°æ®æ–¹æ³•éƒ½æ˜¯å®ç°ä¸äº†æ•°æ®å…±äº«ï¼Œè¿™é‡Œå°±éœ€è¦ä½¿ç”¨App Groupsã€‚&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;åœ¨å®¿ä¸»ç¨‹åºå’Œæ‰©å±•ç¨‹åºä¸­åˆ†åˆ«è®¾ç½®æ‰“å¼€App Groupï¼Œè®¾ç½®ä¸€ä¸ªgroupçš„åç§°ï¼Œè¿™é‡Œè¦ä¿è¯å®¿ä¸»APPå’Œæ‰©å±•APPçš„groupNameè¦æ˜¯ç›¸åŒçš„ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-4fbc517b9a6fbf99.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ä¸¤ç§æ•°æ®å­˜å‚¨æ–¹å¼&quot;&gt;ä¸¤ç§æ•°æ®å­˜å‚¨æ–¹å¼&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;ä½¿ç”¨NSUserDefault&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™é‡Œä¸èƒ½ä½¿ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;[NSUserDefaults standardUserDefaults];&lt;/code&gt;æ–¹æ³•æ¥åˆå§‹åŒ–NSUserDefaultå¯¹è±¡ï¼Œæ­£åƒä¹‹å‰æ‰€è¯´ï¼Œç”±äºæ²™ç›’æœºåˆ¶ï¼Œæ‹“å±•åº”ç”¨æ˜¯ä¸å…è®¸è®¿é—®å®¿ä¸»åº”ç”¨çš„æ²™ç›’è·¯å¾„çš„ï¼Œå› æ­¤ä¸Šè¿°ç”¨æ³•æ˜¯ä¸å¯¹çš„ï¼Œéœ€è¦æ­é…app groupå®Œæˆå®ä¾‹åŒ–UserDefaultsã€‚æ­£ç¡®çš„ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å†™å…¥æ•°æ®&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
    &lt;span class=&quot;kt&quot;&gt;NSUserDefaults&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;userDefaults&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSUserDefaults&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;initWithSuiteName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;group.com.japho.widgetDemo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;userDefaults&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;setObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textField&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;forKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;widget&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;userDefaults&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;synchronize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¯»å–æ•°æ®&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
    &lt;span class=&quot;kt&quot;&gt;NSUserDefaults&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;userDefaults&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSUserDefaults&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;initWithSuiteName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;group.com.japho.widgetDemo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;contentStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;userDefaults&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;objectForKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;widget&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;é€šè¿‡NSFileManagerå…±äº«æ•°æ®&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;å†™å…¥æ•°æ®&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;BOOL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;saveDataByNSFileManager&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;NSError&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;NSURL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;containerURL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSFileManager&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;defaultManager&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;containerURLForSecurityApplicationGroupIdentifier&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;group.com.xxx&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;containerURL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;containerURL&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;URLByAppendingPathComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;Library/Caches/ widget&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@&quot;asdfasdfasf&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;BOOL&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;writeToURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;containerURL&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;atomically&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;YES&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSUTF8StringEncoding&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;%@&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;save value:%@ success.&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¯»å–æ•°æ®&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;readDataByNSFileManager&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;NSError&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;NSURL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;containerURL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSFileManager&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;defaultManager&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;containerURLForSecurityApplicationGroupIdentifier&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;group.com.xxx&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;containerURL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;containerURL&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;URLByAppendingPathComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;Library/Caches/ widget&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;stringWithContentsOfURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;containerURL&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSUTF8StringEncoding&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;å…¶ä»–&quot;&gt;å…¶ä»–&lt;/h3&gt;
&lt;p&gt;è¡¥å……ï¼šwidgetçš„ä¸Šçº¿ä¹Ÿæ˜¯éœ€è¦å•ç‹¬ç”³è¯·APP IDçš„ éœ€è¦é…ç½®è¯ä¹¦å’ŒProvisioning Profilesæ–‡ä»¶
ï»¿æ²¡æœ‰é…ç½®ç›¸å…³è¯ä¹¦æ—¶ï¼š
&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-d2ab72c1517f4c2a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot; /&gt;
é…ç½®è¯ä¹¦åŠæè¿°æ–‡ä»¶ï¼šï¼ˆåˆ—ä¸¾ä¸€äº›ï¼‰
&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-db71f4b3cd38f241.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-37e9e089cda02fa4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot; /&gt;
è¯ä¹¦ä¸æè¿°æ–‡ä»¶é…ç½®å¥½ä¹‹åï¼š
&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-2b51d98403d5d0ab.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;demo&quot;&gt;Demo&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/japho/WidgetDemo&quot;&gt;åšä¸»åŒæ‰‹å¥‰ä¸Šdemoï¼ŒåŒå­¦ä»¬å¦‚æœå–œæ¬¢å°±ç»™æˆ‘ç‚¹ä¸ªstarå§~~ ğŸ˜˜&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æœ€åæ„Ÿè°¢ä¸€ä¸‹æ–‡ç« çš„åšä¸»ğŸ˜&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.jianshu.com/p/42516ee26a45&quot;&gt;Widgetçš„ç®€å•åº”ç”¨å¹¶é€‚é…iOS10&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/runintolove/article/details/52595770&quot;&gt;iOSå¼€å‘â€”â€”Widget(Today Extension)æ’ä»¶åŒ–å¼€å‘  &lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Mon, 07 Nov 2016 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2016/11/07/iOS-Widget%E7%9A%84%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0/</link>
        <guid isPermaLink="true">http://localhost:4000/2016/11/07/iOS-Widget%E7%9A%84%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0/</guid>
        
        <category>iOS</category>
        
        
      </item>
    
      <item>
        <title>iOS å¾®ä¿¡ç¬¬ä¸‰æ–¹ç™»å½•çš„å®ç°</title>
        <description>&lt;h3 id=&quot;ä¸‹è½½å¾®ä¿¡sdk&quot;&gt;ä¸‹è½½å¾®ä¿¡SDK&lt;/h3&gt;

&lt;p&gt;å¾®ä¿¡å¼€æ”¾å¹³å° &lt;a href=&quot;https://open.weixin.qq.com&quot;&gt;https://open.weixin.qq.com&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-03c3fafce683fa65.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;å¾®ä¿¡å¼€æ”¾å¹³å°&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;å¯¼å…¥sdk&quot;&gt;å¯¼å…¥SDK&lt;/h3&gt;

&lt;p&gt;å¯¼å…¥SDKï¼Œå¹¶æ·»åŠ ä¾èµ–åº“&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-4e5a0e9baf265421.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;é…ç½®url-scheme&quot;&gt;é…ç½®URL scheme&lt;/h3&gt;

&lt;p&gt;åœ¨Xcodeä¸­ï¼Œé€‰æ‹©ä½ çš„å·¥ç¨‹è®¾ç½®é¡¹ï¼Œé€‰ä¸­&lt;code class=&quot;highlighter-rouge&quot;&gt;TARGETS&lt;/code&gt;ä¸€æ ï¼Œåœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;info&lt;/code&gt;æ ‡ç­¾æ çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;URL type&lt;/code&gt;æ·»åŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;URL scheme&lt;/code&gt;ä¸ºä½ æ‰€æ³¨å†Œçš„åº”ç”¨ç¨‹åºidï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ï¼Œæ­¤æ­¥ä¸ºé…ç½®åº”ç”¨é—´çš„è·³è½¬ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-c20b3c9b67a92432.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;é…ç½®Url Scheme&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;å¼€å§‹ç¼–å†™ä»£ç &quot;&gt;å¼€å§‹ç¼–å†™ä»£ç &lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;Appdelegate.h&lt;/code&gt;ä¸­å¼•ç”¨å¾®ä¿¡æ–‡ä»¶ï¼Œå£°æ˜éµå¾ªä»£ç†ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;cp&quot;&gt;#import &amp;lt;UIKit/UIKit.h&amp;gt;  &lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#import &quot;WXApi.h&quot;  &lt;/span&gt;
  
&lt;span class=&quot;kd&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;AppDelegate&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIResponder&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;UIApplicationDelegate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;WXApiDelegate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;  
  
&lt;span class=&quot;kd&quot;&gt;@property&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strong&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nonatomic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIWindow&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;  
  
&lt;span class=&quot;kd&quot;&gt;@end&lt;/span&gt;


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;æ³¨å†ŒSDK&lt;/code&gt;è¦ä½¿ä½ çš„ç¨‹åºå¯åŠ¨åå¾®ä¿¡ç»ˆç«¯èƒ½å“åº”ä½ çš„ç¨‹åºï¼Œå¿…é¡»åœ¨ä»£ç ä¸­å‘å¾®ä¿¡ç»ˆç«¯æ³¨å†Œä½ çš„idã€‚ï¼ˆåœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;AppDelegate&lt;/code&gt; çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;didFinishLaunchingWithOptions&lt;/code&gt; å‡½æ•°ä¸­å‘å¾®ä¿¡æ³¨å†Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;id&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;BOOL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;UIApplication&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;didFinishLaunchingWithOptions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSDictionary&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;launchOptions&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;c1&quot;&gt;// Override point for customization after application launch.  &lt;/span&gt;
      
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;WXApi&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;registerApp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;è¿™é‡Œå¡«å†™ä½ çš„AppID&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
      
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;YES&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;é‡å†™&lt;code class=&quot;highlighter-rouge&quot;&gt;AppDelegate&lt;/code&gt;çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;handleOpenURL&lt;/code&gt;å’Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;openURL&lt;/code&gt;æ–¹æ³•&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;c1&quot;&gt;//å’ŒQQ,æ–°æµªå¹¶åˆ—å›è°ƒå¥æŸ„  &lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;BOOL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;UIApplication&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;openURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSURL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;sourceApplication&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sourceApplication&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;annotation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;annotation&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;WXApi&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;handleOpenURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;delegate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  
  
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;BOOL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;UIApplication&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;handleOpenURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSURL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;WXApi&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;handleOpenURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;delegate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;è°ƒç”¨å¾®ä¿¡APIï¼Œè°ƒç”¨å¾®ä¿¡ç™»å½•&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;scope&lt;/code&gt; : åº”ç”¨æˆæƒä½œç”¨åŸŸï¼Œå¦‚è·å–ç”¨æˆ·ä¸ªäººä¿¡æ¯åˆ™å¡«å†™&lt;code class=&quot;highlighter-rouge&quot;&gt;snsapi_userinfo&lt;/code&gt;&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;state&lt;/code&gt; : ç”¨äºä¿æŒè¯·æ±‚å’Œå›è°ƒçš„çŠ¶æ€ï¼Œæˆæƒè¯·æ±‚ååŸæ ·å¸¦å›ç»™ç¬¬ä¸‰æ–¹ã€‚è¯¥å‚æ•°å¯ç”¨äºé˜²æ­¢csrfæ”»å‡»ï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ æ”»å‡»ï¼‰ï¼Œå»ºè®®ç¬¬ä¸‰æ–¹å¸¦ä¸Šè¯¥å‚æ•°ï¼Œå¯è®¾ç½®ä¸ºç®€å•çš„éšæœºæ•°åŠ sessionè¿›è¡Œæ ¡éªŒï¼ˆéå¿…å¡«ï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wechatLoginButtonPressed&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;kt&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;%s&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__func__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  
      
    &lt;span class=&quot;c1&quot;&gt;//æ„é€ SendAuthReqç»“æ„ä½“  &lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;SendAuthReq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;SendAuthReq&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
    &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scope&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@&quot;snsapi_userinfo&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;  
    &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@&quot;123&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;  
    &lt;span class=&quot;c1&quot;&gt;//ç¬¬ä¸‰æ–¹å‘å¾®ä¿¡ç»ˆç«¯å‘é€ä¸€ä¸ªSendAuthReqæ¶ˆæ¯ç»“æ„  &lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;WXApi&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;sendReq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;Appdelegate&lt;/code&gt;ä¸­å®ç°å¾®ä¿¡çš„ä»£ç†ï¼Œè·å–å¾®ä¿¡è¿”å›çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;code&lt;/code&gt;ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨äº†é€šçŸ¥çš„æ–¹æ³•æ¥è°ƒç”¨ç™»å½•&lt;code class=&quot;highlighter-rouge&quot;&gt;controller&lt;/code&gt;ä¸­çš„ç›¸åº”æ‰åšï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä»£ç†ã€&lt;code class=&quot;highlighter-rouge&quot;&gt;KVO&lt;/code&gt;ç­‰æ–¹å¼æ¥å®ç°ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;c1&quot;&gt;//æˆæƒåå›è°ƒ WXApiDelegate  &lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;onResp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;BaseReq&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;resp&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;cm&quot;&gt;/* 
     ErrCode ERR_OK = 0(ç”¨æˆ·åŒæ„) 
     ERR_AUTH_DENIED = -4ï¼ˆç”¨æˆ·æ‹’ç»æˆæƒï¼‰ 
     ERR_USER_CANCEL = -2ï¼ˆç”¨æˆ·å–æ¶ˆï¼‰ 
     code    ç”¨æˆ·æ¢å–access_tokençš„codeï¼Œä»…åœ¨ErrCodeä¸º0æ—¶æœ‰æ•ˆ 
     state   ç¬¬ä¸‰æ–¹ç¨‹åºå‘é€æ—¶ç”¨æ¥æ ‡è¯†å…¶è¯·æ±‚çš„å”¯ä¸€æ€§çš„æ ‡å¿—ï¼Œç”±ç¬¬ä¸‰æ–¹ç¨‹åºè°ƒç”¨sendReqæ—¶ä¼ å…¥ï¼Œç”±å¾®ä¿¡ç»ˆç«¯å›ä¼ ï¼Œstateå­—ç¬¦ä¸²é•¿åº¦ä¸èƒ½è¶…è¿‡1K 
     lang    å¾®ä¿¡å®¢æˆ·ç«¯å½“å‰è¯­è¨€ 
     country å¾®ä¿¡ç”¨æˆ·å½“å‰å›½å®¶ä¿¡æ¯ 
     */&lt;/span&gt;  
  
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;resp&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;isKindOfClass&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;SendAuthResp&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]])&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//åˆ¤æ–­æ˜¯å¦ä¸ºæˆæƒè¯·æ±‚ï¼Œå¦åˆ™ä¸å¾®ä¿¡æ”¯ä»˜ç­‰åŠŸèƒ½å‘ç”Ÿå†²çª  &lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;kt&quot;&gt;SendAuthResp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aresp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;SendAuthResp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;resp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;  
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aresp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errCode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
            &lt;span class=&quot;kt&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;code %@&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aresp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  
            &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSNotificationCenter&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;defaultCenter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;postNotificationName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;wechatDidLoginNotification&quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;userInfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;code&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aresp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}];&lt;/span&gt;  
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç›¸å¯¹åº”æ³¨å†Œé€šçŸ¥æ–¹æ³•ï¼š&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
 &lt;span class=&quot;c1&quot;&gt;//è·³è½¬åˆ°ä¸»ç•Œé¢&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSNotificationCenter&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;defaultCenter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;addObserver&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;selector&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;@selector(wechatDidLoginNotification:)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;wechatDidLoginNotification&quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è®°å¾—åœ¨deallocæ–¹æ³•ä¸­ç§»é™¤é€šçŸ¥ï¼Œé¿å…å‘ç”Ÿå†²çªï¼š&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dealloc&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSNotificationCenter&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;defaultCenter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;removeObserver&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;wechatDidLoginNotification&quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å¾®ä¿¡ç™»å½•è®¤è¯åè·å–ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯æ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦ä¸‰ä¸ªæ­¥éª¤ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;ul&gt;
    &lt;li&gt;è·å–å¾®ä¿¡ç™»å½•code&lt;/li&gt;
    &lt;li&gt;æ ¹æ®codeè·å–accessTokenå’ŒopenId&lt;/li&gt;
    &lt;li&gt;æ ¹æ®accessTokenå’ŒopenIdè·å–ç”¨æˆ·ä¿¡æ¯&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;å…·ä½“æ­¥éª¤ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;åˆšåˆšæˆ‘ä»¬å·²ç»åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;appdelegate&lt;/code&gt;ä¸­å¾®ä¿¡çš„ä»£ç†ä¸­è·å–åˆ°äº†&lt;code class=&quot;highlighter-rouge&quot;&gt;code&lt;/code&gt;ï¼Œä¸‹é¢ç›´æ¥æ¥è¿›è¡Œç¬¬äºŒæ­¥ï¼Œæ ¹æ®&lt;code class=&quot;highlighter-rouge&quot;&gt;code&lt;/code&gt;è·å–&lt;code class=&quot;highlighter-rouge&quot;&gt;accessToken&lt;/code&gt;å’Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;openId&lt;/code&gt;ï¼š
å‚ç…§å¾®ä¿¡å¼€æ”¾å¹³å°å®˜æ–¹æ–‡æ¡£ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-afc238a8d21aac3e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;getWechatAccessTokenWithCode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;code&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;stringWithFormat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;  
      &lt;span class=&quot;s&quot;&gt;@&quot;https://api.weixin.qq.com/sns/oauth2/access_token?appid=%@&amp;amp;secret=%@&amp;amp;code=%@&amp;amp;grant_type=authorization_code&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;kt&quot;&gt;WechatAppKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;WechatSecrectKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
      
    &lt;span class=&quot;nf&quot;&gt;dispatch_async&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;dispatch_get_global_queue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;DISPATCH_QUEUE_PRIORITY_DEFAULT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;kt&quot;&gt;NSURL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zoneUrl&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSURL&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;URLWithString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
        &lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zoneStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;stringWithContentsOfURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zoneUrl&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSUTF8StringEncoding&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
        &lt;span class=&quot;kt&quot;&gt;NSData&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zoneStr&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;dataUsingEncoding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSUTF8StringEncoding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
        &lt;span class=&quot;nf&quot;&gt;dispatch_async&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;dispatch_get_main_queue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
              
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  
            &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
                &lt;span class=&quot;kt&quot;&gt;NSDictionary&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dic&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSJSONSerialization&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;JSONObjectWithData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;   
                                                                    &lt;span class=&quot;nv&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSJSONReadingMutableContainers&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
                  
                &lt;span class=&quot;kt&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;%@&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  
                &lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;accessToken&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;access_token&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
                &lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;openId&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;openid&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
                  
                &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;getWechatUserInfoWithAccessToken&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;accessToken&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;openId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;openId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  
        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;  
    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç°åœ¨å·²ç»è·å–äº†å¾®ä¿¡çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;accessToken&lt;/code&gt;å’Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;openId&lt;/code&gt;ï¼Œå°±å¯ä»¥è¯·æ±‚ç›¸åº”çš„å¾®ä¿¡æ¥å£äº†ã€‚
å‚ç…§æ–‡æ¡£ï¼Œæˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹æ¥å£ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-4350c96c94ce8487.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨è¿™ä¸ªæ¥å£å°±å¯ä»¥è·å–ç”¨æˆ·ä¿¡æ¯äº†ï¼Œç„¶åè°ƒç”¨è‡ªå·±çš„æ–¹æ³•è¿›è¡Œç™»å½•ï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;openId&lt;/code&gt;å½“åšè´¦å·ï¼Œä»–æ˜¯æ¯ä¸ªå¾®ä¿¡ç”¨æˆ·å”¯ä¸€å¯¹åº”çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;id&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;getWechatUserInfoWithAccessToken&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;accessToken&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;openId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;openId&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;stringWithFormat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;  
                    &lt;span class=&quot;s&quot;&gt;@&quot;https://api.weixin.qq.com/sns/userinfo?access_token=%@&amp;amp;openid=%@&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;accessToken&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;openId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
      
    &lt;span class=&quot;nf&quot;&gt;dispatch_async&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;dispatch_get_global_queue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;DISPATCH_QUEUE_PRIORITY_DEFAULT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;kt&quot;&gt;NSURL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zoneUrl&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSURL&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;URLWithString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
        &lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zoneStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;stringWithContentsOfURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zoneUrl&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSUTF8StringEncoding&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
        &lt;span class=&quot;kt&quot;&gt;NSData&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zoneStr&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;dataUsingEncoding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSUTF8StringEncoding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
        &lt;span class=&quot;nf&quot;&gt;dispatch_async&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;dispatch_get_main_queue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
              
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  
            &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
                &lt;span class=&quot;kt&quot;&gt;NSDictionary&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dic&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSJSONSerialization&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;JSONObjectWithData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;   
                                                                    &lt;span class=&quot;nv&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSJSONReadingMutableContainers&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
                  
                &lt;span class=&quot;kt&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;%@&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  
                  
                &lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;openId&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dic&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;objectForKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;openid&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
                &lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;memNickName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dic&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;objectForKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;nickname&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
                &lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;memSex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dic&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;objectForKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;sex&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
                  
                &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;loginWithOpenId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;openId&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;memNickName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;memNickName&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;memSex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;memSex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  
        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;  
          
    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; 


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è‡³æ­¤ï¼Œå°±å®ç°äº†ç®€å•çš„å¾®ä¿¡ç™»å½•&lt;/p&gt;

&lt;p&gt;æ•ˆæœå›¾ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-7adef59824ff8291.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Mon, 18 Apr 2016 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2016/04/18/iOS-%E5%BE%AE%E4%BF%A1%E7%AC%AC%E4%B8%89%E6%96%B9%E7%99%BB%E5%BD%95%E7%9A%84%E5%AE%9E%E7%8E%B0/</link>
        <guid isPermaLink="true">http://localhost:4000/2016/04/18/iOS-%E5%BE%AE%E4%BF%A1%E7%AC%AC%E4%B8%89%E6%96%B9%E7%99%BB%E5%BD%95%E7%9A%84%E5%AE%9E%E7%8E%B0/</guid>
        
        <category>iOS</category>
        
        
      </item>
    
      <item>
        <title>iOS QQç¬¬ä¸‰æ–¹ç™»å½•çš„å®ç°</title>
        <description>&lt;h3 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;å¹³æ—¶æˆ‘ä»¬ç»å¸¸ä¼šåœ¨ä¸€äº›appçš„ç™»å½•ç•Œé¢ä¸­è§åˆ°ç¬¬ä¸‰æ–¹ç™»å½•ï¼Œä¸€äº›åº”ç”¨ä¸­ä¸€èˆ¬ä¼šä½¿ç”¨ä¸€äº›ç±»ä¼¼&lt;code class=&quot;highlighter-rouge&quot;&gt;shareSDK&lt;/code&gt;çš„é›†æˆå¹³å°ï¼Œä»–ä»¬æ˜¯å°†QQã€å¾®ä¿¡ã€å¾®åšç­‰ç¬¬ä¸‰æ–¹è¿›è¡Œäº†äºŒæ¬¡å°è£…ï¼Œçµæ´»æ€§ä¸å¤ªé«˜ï¼Œå…¶å®ç›´æ¥é›†æˆä¹Ÿæ˜¯æ¯”è¾ƒå®¹æ˜“çš„ã€‚ä»Šå¤©å°±æ¥ç®€å•çš„è¯´ä¸€ä¸‹QQçš„ç¬¬ä¸‰æ–¹ç™»å½•çš„é›†æˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;æ³¨å†Œå¼€å‘è€…è´¦å·&quot;&gt;æ³¨å†Œå¼€å‘è€…è´¦å·&lt;/h3&gt;

&lt;p&gt;è…¾è®¯å¼€æ”¾å¹³å° &lt;a href=&quot;http://open.qq.com/&quot;&gt;http://open.qq.com/&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;ä¸‹è½½æ‰€éœ€sdk&quot;&gt;ä¸‹è½½æ‰€éœ€SDK&lt;/h3&gt;

&lt;p&gt;SDKä¸‹è½½åœ°å€ï¼š&lt;a href=&quot;http://wiki.open.qq.com/wiki/mobile/SDK&quot;&gt;http://wiki.open.qq.com/wiki/mobile/SDK&lt;/a&gt;ä¸‹è½½&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-09d6d16aa6ade24b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;ä¸‹è½½SDK&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;sdkçš„ç›®å½•ç»“æ„&quot;&gt;SDKçš„ç›®å½•ç»“æ„&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-c55d70eac31d40eb.png&quot; alt=&quot;ç›®å½•ç»“æ„&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;sampleï¼šç¤ºä¾‹ä»£ç &lt;/p&gt;

  &lt;ol&gt;
    &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;TencentOpenAPI.framework&lt;/code&gt;æ‰“åŒ…äº†iOS SDKçš„å¤´æ–‡ä»¶å®šä¹‰å’Œå…·ä½“å®ç°ã€‚&lt;/li&gt;
    &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;TencentOpenApi_iOS_Bundle.bundle&lt;/code&gt; æ‰“åŒ…äº†iOS SDKéœ€è¦çš„èµ„æºæ–‡ä»¶ã€‚&lt;/li&gt;
  &lt;/ol&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;åˆ›å»ºé¡¹ç›®å¯¼å…¥sdkæ·»åŠ ä¾èµ–åº“&quot;&gt;åˆ›å»ºé¡¹ç›®å¯¼å…¥SDKæ·»åŠ ä¾èµ–åº“&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;å°†&lt;code class=&quot;highlighter-rouge&quot;&gt;TencentOpenAPI.framework&lt;/code&gt;å’Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;TencentOpenApi_iOS_Bundle.bundle&lt;/code&gt;æ‹–å…¥å·¥ç¨‹ï¼Œæ³¨æ„å‹¾é€‰&lt;code class=&quot;highlighter-rouge&quot;&gt;copy items if needed&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-51289c4fbecd86b8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;æ·»åŠ ä¾èµ–åº“&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;ç‚¹å‡»&lt;code class=&quot;highlighter-rouge&quot;&gt;Project navigator&lt;/code&gt; ç‚¹å‡»&lt;code class=&quot;highlighter-rouge&quot;&gt;TARGETS&lt;/code&gt; â€”&amp;gt; Â &lt;code class=&quot;highlighter-rouge&quot;&gt;General&lt;/code&gt; Â â€”&amp;gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;Linked Frameworks and Libraries&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ç‚¹å‡»åŠ å·æ·»åŠ &lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-2b3492004d2d24be.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;æ·»åŠ ä¾èµ–åº“&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;æ·»åŠ SDKä¾èµ–çš„ç³»ç»Ÿåº“æ–‡ä»¶ã€‚åˆ†åˆ«æ˜¯&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;â€Security.frameworkâ€&lt;/code&gt;,
&lt;code class=&quot;highlighter-rouge&quot;&gt;â€œlibiconv.dylibâ€&lt;/code&gt;,
&lt;code class=&quot;highlighter-rouge&quot;&gt;â€œSystemConfiguration.frameworkâ€&lt;/code&gt;,
&lt;code class=&quot;highlighter-rouge&quot;&gt;â€œCoreGraphics.Frameworkâ€&lt;/code&gt;,
&lt;code class=&quot;highlighter-rouge&quot;&gt;â€œlibsqlite3.dylibâ€&lt;/code&gt;,
&lt;code class=&quot;highlighter-rouge&quot;&gt;â€œCoreTelephony.frameworkâ€&lt;/code&gt;,
&lt;code class=&quot;highlighter-rouge&quot;&gt;â€œlibstdc++.dylibâ€&lt;/code&gt;,
&lt;code class=&quot;highlighter-rouge&quot;&gt;â€œlibz.dylibâ€&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;ä¿®æ”¹å·¥ç¨‹é…ç½®å±æ€§&quot;&gt;ä¿®æ”¹å·¥ç¨‹é…ç½®å±æ€§&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;åœ¨å·¥ç¨‹é…ç½®ä¸­çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;Build Settings&lt;/code&gt;ä¸€æ ä¸­æ‰¾åˆ°&lt;code class=&quot;highlighter-rouge&quot;&gt;Linking&lt;/code&gt;é…ç½®åŒºï¼Œç»™&lt;code class=&quot;highlighter-rouge&quot;&gt;Other Linker Flags&lt;/code&gt;é…ç½®é¡¹æ·»åŠ å±æ€§å€¼&lt;code class=&quot;highlighter-rouge&quot;&gt;-fobjc-arc&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-b7c82914bc009b68.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;ä¿®æ”¹å·¥ç¨‹é…ç½®&quot; /&gt;&lt;/p&gt;

&lt;p&gt;é…ç½®ä¹‹åï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-f570fc54824ffcfe.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;ä¿®æ”¹å·¥ç¨‹é…ç½®&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;åœ¨XCodeä¸­ï¼Œé€‰æ‹©ä½ çš„å·¥ç¨‹è®¾ç½®é¡¹ï¼Œé€‰ä¸­&lt;code class=&quot;highlighter-rouge&quot;&gt;TARGETS&lt;/code&gt;ä¸€æ ï¼Œåœ¨â€œinfoâ€æ ‡ç­¾æ çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;URL type&lt;/code&gt;æ·»åŠ ä¸€æ¡æ–°çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;URL scheme&lt;/code&gt;ï¼Œæ–°çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;scheme = tencent + appid&lt;/code&gt;ï¼ˆä¾‹å¦‚ä½ çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;appid&lt;/code&gt;æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;123456&lt;/code&gt; åˆ™å¡«å…¥&lt;code class=&quot;highlighter-rouge&quot;&gt;tencent123456&lt;/code&gt;ï¼‰ &lt;code class=&quot;highlighter-rouge&quot;&gt;identifier&lt;/code&gt; å¡«å†™ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;tencentopenapi&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;æ³¨æ„ï¼š&lt;/code&gt;æ­¤å¤„çš„é…ç½®æ˜¯å®ç°åº”ç”¨é—´çš„è·³è½¬å³è·³è½¬è‡³QQè¿›è¡Œæˆæƒä»¥åŠè·³è½¬å›appè¿›è¡Œå…¶ä»–çš„æ“ä½œã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1269906-cb563972e0817714.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;ä¿®æ”¹å·¥ç¨‹é…ç½®&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;åˆ›å»ºåº”ç”¨&quot;&gt;åˆ›å»ºåº”ç”¨&lt;/h3&gt;

&lt;p&gt;åœ¨è…¾è®¯å¼€å‘è€…å¹³å°ä¸­åˆ›å»ºåº”ç”¨ï¼Œè·å¾—&lt;code class=&quot;highlighter-rouge&quot;&gt;appId&lt;/code&gt;åŠ&lt;code class=&quot;highlighter-rouge&quot;&gt;appKey&lt;/code&gt;ï¼Œå…·ä½“æ­¥éª¤è¯¦è§å¼€å‘ä¸­å¿ƒï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å¼€å§‹æ·»åŠ ä»£ç &quot;&gt;å¼€å§‹æ·»åŠ ä»£ç &lt;/h3&gt;

&lt;p&gt;åšå¥½äº†ä¹‹å‰çš„æ­¥éª¤ï¼Œç°åœ¨å¼€å§‹æ·»åŠ è°ƒç”¨æˆæƒçš„ä»£ç ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;AppDelegate.m:&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;cp&quot;&gt;#import &quot;AppDelegate.h&quot;  &lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#import &amp;lt;TencentOpenAPI/TencentOAuth.h&amp;gt; //å¯¼å…¥å¤´æ–‡ä»¶  &lt;/span&gt;
  
&lt;span class=&quot;kd&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;AppDelegate&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;TencentSessionDelegate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;kt&quot;&gt;TencentOAuth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_tencentOAth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//åˆ›å»ºæˆæƒå¯¹è±¡  &lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  
&lt;span class=&quot;kd&quot;&gt;@end&lt;/span&gt;  
  
&lt;span class=&quot;kd&quot;&gt;@implementation&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;AppDelegate&lt;/span&gt;  
  
  
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;BOOL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;UIApplication&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;didFinishLaunchingWithOptions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSDictionary&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;launchOptions&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;c1&quot;&gt;// Override point for customization after application launch.  &lt;/span&gt;
      
    &lt;span class=&quot;n&quot;&gt;_tencentOAth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;TencentOAuth&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;initWithAppId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;è¿™é‡Œå¡«å†™ä½ ç”³è¯·çš„appID&quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;andDelegate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
      
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;YES&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  
  
&lt;span class=&quot;c1&quot;&gt;//é‡å†™appDelegateä¸­çš„å›è°ƒæ–¹æ³•  &lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;BOOL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;UIApplication&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;openURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSURL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;sourceApplication&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sourceApplication&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;annotation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;annotation&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
      
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;TencentOAuth&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;HandleOpenURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  
  
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;BOOL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;UIApplication&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;handleOpenURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSURL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
      
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;TencentOAuth&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;HandleOpenURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä½ æ‰€è¦è°ƒç”¨ç¬¬ä¸‰æ–¹ç™»å½•çš„controller&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;cp&quot;&gt;#import &quot;ViewController.h&quot;  &lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#import &amp;lt;TencentOpenAPI/TencentOAuth.h&amp;gt;  &lt;/span&gt;
  
&lt;span class=&quot;kd&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;ViewController&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;TencentSessionDelegate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;kt&quot;&gt;TencentOAuth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_tencentOAth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  
&lt;span class=&quot;kd&quot;&gt;@end&lt;/span&gt;  
  
&lt;span class=&quot;kd&quot;&gt;@implementation&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;ViewController&lt;/span&gt;  
  
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;viewDidLoad&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;super&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;viewDidLoad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
    &lt;span class=&quot;c1&quot;&gt;// Do any additional setup after loading the view, typically from a nib.  &lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  
  
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;didReceiveMemoryWarning&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;super&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;didReceiveMemoryWarning&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
    &lt;span class=&quot;c1&quot;&gt;// Dispose of any resources that can be recreated.  &lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  
  
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;IBAction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;qqLogin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sender&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;n&quot;&gt;_tencentOAth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;TencentOAuth&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;initWithAppId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;ä½ æ‰€ç”³è¯·çš„appID&quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;andDelegate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
      
    &lt;span class=&quot;c1&quot;&gt;//è®¾ç½®éœ€è¦è·å–çš„æƒé™åˆ—è¡¨ï¼Œéœ€è¦ä»€ä¹ˆå°±å†™ä»€ä¹ˆ  &lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;NSArray&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;permissions&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSArray&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;arrayWithObjects&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;get_user_info&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;get_simple_userinfo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;add_t&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
  
    &lt;span class=&quot;c1&quot;&gt;//è°ƒç”¨æ­¤æ–¹æ³•å¼€å§‹è·³è½¬è¿›è¡Œæˆæƒ  &lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_tencentOAth&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;authorize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;permissions&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;inSafari&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NO&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  
  
&lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pragma&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mark&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;TencentSessionDelegate&lt;/span&gt;  
  
&lt;span class=&quot;c1&quot;&gt;//ç™»é™†å®Œæˆè°ƒç”¨  &lt;/span&gt;
  
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tencentDidLogin&lt;/span&gt;  
  
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_tencentOAth&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;accessToken&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_tencentOAth&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;accessToken&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;  
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;c1&quot;&gt;//è¿™é‡Œå¯è·å–accessToken,Access Tokenå‡­è¯ï¼Œç”¨äºåç»­è®¿é—®å„å¼€æ”¾æ¥å£  &lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;accessToken %@&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_tencentOAth&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;accessToken&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  
  
        &lt;span class=&quot;c1&quot;&gt;//è¿™é‡Œå¯è·å–openID,openIdæ˜¯ç”¨æˆ·æˆæƒç™»å½•åå¯¹è¯¥ç”¨æˆ·çš„å”¯ä¸€æ ‡è¯†  &lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;openId %@&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_tencentOAth&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;openId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  
          
        &lt;span class=&quot;c1&quot;&gt;//è·å–ç”¨æˆ·ä¿¡æ¯  &lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_tencentOAth&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getUserInfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;  
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;kt&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;ç™»å½•ä¸æˆåŠŸæ²¡æœ‰è·å–accesstoken&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  
      
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  
  
  
&lt;span class=&quot;c1&quot;&gt;//éç½‘ç»œé”™è¯¯å¯¼è‡´ç™»å½•å¤±è´¥ï¼š  &lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;tencentDidNotLogin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;BOOL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cancelled&lt;/span&gt;  
  
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
      
    &lt;span class=&quot;kt&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;tencentDidNotLogin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  
      
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cancelled&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;kt&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;ç”¨æˆ·å–æ¶ˆç™»å½•&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;  
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;kt&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;ç™»å½•å¤±è´¥&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  
      
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  
  
&lt;span class=&quot;c1&quot;&gt;// ç½‘ç»œé”™è¯¯å¯¼è‡´ç™»å½•å¤±è´¥ï¼š  &lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tencentDidNotNetWork&lt;/span&gt;  
  
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;kt&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;tencentDidNotNetWork&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  
  
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;getUserInfoResponse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;APIResponse&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;  
  
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;kt&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;respons:%@&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jsonResponse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  
      
    &lt;span class=&quot;kt&quot;&gt;NSData&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;imageData&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSData&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;dataWithContentsOfURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSURL&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;URLWithString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jsonResponse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;figureurl_2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]];&lt;/span&gt;  
    &lt;span class=&quot;kt&quot;&gt;UIImage&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;UIImage&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;imageWithData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;imageData&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
    &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;headerImageView&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;  
      
    &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nameLabel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jsonResponse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;nickname&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
    &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sexLabel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jsonResponse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;gender&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
    &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;provinceLabel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jsonResponse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;province&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
    &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cityLabel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jsonResponse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;city&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  
  
&lt;span class=&quot;kd&quot;&gt;@end&lt;/span&gt;  


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å…·ä½“æ­¥éª¤å†æ¥å™è¿°ä¸€ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;åˆå§‹åŒ–TencentOAuth å¯¹è±¡ appidæ¥è‡ªåº”ç”¨å®åˆ›å»ºçš„åº”ç”¨ï¼Œ deletegateè®¾ç½®ä¸ºself è®°å¾—è¦å®ç°ä»£ç†æ–¹æ³•&lt;/li&gt;
  &lt;li&gt;è®¾ç½®éœ€è¦è·å–çš„æƒé™åˆ—è¡¨ï¼Œéœ€è¦ä»€ä¹ˆå°±å†™ä»€ä¹ˆ&lt;/li&gt;
  &lt;li&gt;è°ƒç”¨æ–¹æ³•å¼€å§‹è·³è½¬è¿›è¡Œæˆæƒ [_tencentOAth authorize:permissions inSafari:NO];&lt;/li&gt;
  &lt;li&gt;åœ¨tencentDidLoginä»£ç†ä¸­è·å–openIdã€acess_token&lt;/li&gt;
  &lt;li&gt;è°ƒç”¨[_tencentOAth getUserInfo] è·å–ç”¨æˆ·çš„ä¿¡æ¯&lt;/li&gt;
  &lt;li&gt;åœ¨ - (void)getUserInfoResponse:(APIResponse *)response ä»£ç†ä¸­è·å–ç”¨æˆ·çš„ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è‡³æ­¤ï¼ŒQQçš„æˆæƒç™»å½•å°±ç®—æ˜¯åŸºæœ¬çš„å®ç°äº†ï¼Œè‡³äºå…·ä½“çš„å…¶ä»–æ³¨å†Œé€»è¾‘å°±éœ€è¦è‡ªå·±è¿›è¡Œæ”¹å†™äº†ã€‚&lt;/p&gt;
</description>
        <pubDate>Thu, 14 Apr 2016 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2016/04/14/iOS-QQ%E7%AC%AC%E4%B8%89%E6%96%B9%E7%99%BB%E5%BD%95%E7%9A%84%E5%AE%9E%E7%8E%B0/</link>
        <guid isPermaLink="true">http://localhost:4000/2016/04/14/iOS-QQ%E7%AC%AC%E4%B8%89%E6%96%B9%E7%99%BB%E5%BD%95%E7%9A%84%E5%AE%9E%E7%8E%B0/</guid>
        
        <category>iOS</category>
        
        
      </item>
    
  </channel>
</rss>
